{% extends app.request.xmlHttpRequest ? '@ZghFE/Default/inner_ajax_layout.html.twig':'@ZghFE/Default/product_content.html.twig' %}

{% block innerPartial %}
    <div class="row headerProduct">
        <div class="col-md-2 pull-right icons-G">
            <a href="{{ url("zgh_fe.products.get_edit", {"id": app.user.id, "product_id": product.id}) }}"
               class="moveEditProduct">edit</a>
            <button class="btn btn-danger btn-circle" type="button" data-target="#addwishlist"
                    data-toggle="modal">
                <span class="glyphicon glyphicon-plus"></span>
            </button>
            <div id="addwishlist" aria-hidden="true" aria-labelledby="myModalLabel" role="dialog"
                 tabindex="-1"
                 class="modal fade in">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header modalHeader">
                            <button type="button" class="close modalClose" data-dismiss="modal"
                                    aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="myModalLabel">Add to Wishlist</h4>
                        </div>
                        {{ form_start(addWishlistForm, {"action": url("zgh_fe.products.add_to_wishlist", {"id": product.user.id, "product_id": product.id }), "attr": {"class": "form-horizontal"}  }) }}
                        <div class="modal-body">
                            <div class="form-group formGroup">
                                {#<label class="col-sm-3 control-label">Select Wishlist</label>#}
                                {{ form_label(addWishlistForm.wishlists, '', {"label_attr":{"class": "col-sm-3 control-label"} }) }}
                                <div class="col-sm-9">
                                    {{ form_widget(addWishlistForm.wishlists, {"attr":{"class": ""} }) }}
                                </div>
                            </div>

                            <div class="form-group formGroup">
                                <label class="col-sm-3 control-label">List Name</label>

                                <div class="col-sm-9">
                                    {{ form_widget(addWishlistForm.new_wishlist.wishlists, {"attr":{"class": "form-control", "placeholder": "Enter Caption"} }) }}
                                </div>
                            </div>


                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-wide btn-primary">Save</button>
                        </div>
                        {{ form_rest(addWishlistForm) }}
                        {{ form_end(addWishlistForm) }}
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <form class="btnForm pull-right"
                  action="{{ url("zgh_fe.like.post", {"id": product.id, "entity_type": product.getObjectType }) }}"
                  method="post">
                <button type="submit" data-placement="top" data-toggle="tooltip"
                        title="{{ checkLike(app.user, product) ? "Unlike" : "Like" }}"
                        class="btn tooltip btn-danger likeBtn btn-circle {{ checkLike(app.user, product) ? "liked" : "" }}">
                    <span class="glyphicon glyphicon-heart"></span>
                </button>
                {#<button type="submit" data-placement="top" data-toggle="tooltip" title="{{ checkLike(app.user, post) ? "Unlike" : "Like" }}" class="btn tooltip btn-liked likeBtn btn-circle {{ checkLike(app.user, post) ? "liked" : "" }}">#}
                {#<span class="glyphicon glyphicon-heart"></span>#}
                {#</button>#}
            </form>

        </div>
        <h2 class=col-md-4>{{ product.name }}</h2>

        <div class="clearfix"></div>
        <p class="col-md-4">Category:<span>
                                {% for category in product.categories %}
                                    {{ category.name }} {{ loop.index == loop.length ? "" : "-" }}
                                {% endfor %}
                        </span></p>

    </div>
    <div class="row contentProduct">
        <p class="col-md-12">
            {{ product.description }}
        </p>
    </div>
    <div class="row">
        <span class="col-md-4 price ">Price:<span> {{ product.price }}$</span></span>
    </div>
    {{ include("@ZghFE/Partial/common/comments_section.html.twig", {"entity": product}) }}
{% endblock innerPartial %}
